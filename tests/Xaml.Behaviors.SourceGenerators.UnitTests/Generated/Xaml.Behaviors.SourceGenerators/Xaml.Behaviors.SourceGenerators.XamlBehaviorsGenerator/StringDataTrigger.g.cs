// <auto-generated />
#nullable enable
using System;
using Avalonia;
using Avalonia.Xaml.Interactivity;
using Avalonia.Controls;

namespace Xaml.Behaviors.Generated
{
    public partial class StringDataTrigger : Avalonia.Xaml.Interactivity.StyledElementTrigger
    {
        public static readonly StyledProperty<string> BindingProperty =
            AvaloniaProperty.Register<StringDataTrigger, string>(nameof(Binding));

        public static readonly StyledProperty<ComparisonConditionType> ComparisonConditionProperty =
            AvaloniaProperty.Register<StringDataTrigger, ComparisonConditionType>(nameof(ComparisonCondition));

        public static readonly StyledProperty<string> ValueProperty =
            AvaloniaProperty.Register<StringDataTrigger, string>(nameof(Value));

        public string Binding
        {
            get => GetValue(BindingProperty);
            set => SetValue(BindingProperty, value);
        }

        public ComparisonConditionType ComparisonCondition
        {
            get => GetValue(ComparisonConditionProperty);
            set => SetValue(ComparisonConditionProperty, value);
        }

        public string Value
        {
            get => GetValue(ValueProperty);
            set => SetValue(ValueProperty, value);
        }

        protected override void OnPropertyChanged(AvaloniaPropertyChangedEventArgs change)
        {
            base.OnPropertyChanged(change);
            if (change.Property == BindingProperty || change.Property == ComparisonConditionProperty || change.Property == ValueProperty)
            {
                Evaluate();
            }
        }

        private void Evaluate()
        {
             // Simple comparison logic for the specific type
             bool result = false;
             var left = Binding;
             var right = Value;
             switch (ComparisonCondition)
             {
                 case ComparisonConditionType.Equal: result = System.Collections.Generic.EqualityComparer<string>.Default.Equals(left, right); break;
                 case ComparisonConditionType.NotEqual: result = !System.Collections.Generic.EqualityComparer<string>.Default.Equals(left, right); break;
                 default:
                     if (left is IComparable cmp)
                     {
                         var diff = cmp.CompareTo(right);
                         switch (ComparisonCondition)
                         {
                             case ComparisonConditionType.LessThan: result = diff < 0; break;
                             case ComparisonConditionType.LessThanOrEqual: result = diff <= 0; break;
                             case ComparisonConditionType.GreaterThan: result = diff > 0; break;
                             case ComparisonConditionType.GreaterThanOrEqual: result = diff >= 0; break;
                         }
                     }
                     break;
             }

             if (result)
             {
                 Interaction.ExecuteActions(AssociatedObject, Actions, null);
             }
        }
    }
}
